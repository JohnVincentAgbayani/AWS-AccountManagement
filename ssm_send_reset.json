{
   "schemaVersion":"2.2",
   "description":"Command Document Example JSON Template",
   "parameters":{
      "environment":{
         "type":"String",
         "description":"target environment"
      },
      "password":{
         "type":"String",
         "description":"temp user password"
      },
      "email":{
         "type":"String",
         "description":"target user email"
      }
   },
   "mainSteps":[
      {
         "action":"aws:runPowerShellScript",
         "name":"example",
         "inputs":{
            "runCommand":[
               "",
               "$pwd = '{{password}}'",
               "$pwd = [System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String($pwd))",
               "$pwd = [System.Text.Encoding]::UTF7.GetString([System.Convert]::FromBase64String($pwd))",
               "$pwd = [System.Text.Encoding]::Ascii.GetString([System.Convert]::FromBase64String($pwd))",
               "$subject_line_pwd = 'pwrd - {{environment}} aws'",
               "Send-MailMessage -From 'cloudnoreply@deltek.com' -To {{email}} -Subject $subject_line_pwd -Body $pwd -SmtpServer 'smtp.useast.deltekfirst.local'",
               ""
            ]
         }
      }
   ]
}